# 할인 정보 자동 알림 서비스

## 개요
각 쇼핑몰/커뮤니티에서 핫딜, 타임세일, 쿠폰 정보를 자동 수집하여 여러 채널에 발행하는 콘텐츠 자동화 서비스

## 서비스 흐름
```
[데이터 수집]      →    [AI 필터링]    →    [콘텐츠 생성]    →    [멀티채널 발행]
     │                      │                   │                    │
┌────┴────┐           ┌────┴────┐          ┌───┴───┐           ┌────┴────┐
│ 쇼핑몰   │           │ 중복제거 │          │ 이미지 │           │텔레그램 │
│ 커뮤니티 │           │ 품질필터 │          │ 텍스트 │           │카카오   │
│ 공식이벤트│           │ 카테고리 │          │ 포맷팅 │           │블로그   │
└─────────┘           └─────────┘          └───────┘           │인스타   │
                                                               └─────────┘
```

---

## 핵심 기능

### 1. 할인 정보 자동 수집

#### 수집 소스
| 소스 | 유형 | 수집 방법 | 특징 |
|------|------|----------|------|
| **뽐뿌** | 커뮤니티 | RSS/크롤링 | 핫딜 정보 풍부 |
| **클리앙** | 커뮤니티 | RSS/크롤링 | IT 특화 |
| **루리웹** | 커뮤니티 | RSS/크롤링 | 게임/디지털 |
| **쿠팡 골드박스** | 공식 | API/크롤링 | 타임딜 |
| **11번가 쇼킹딜** | 공식 | API/크롤링 | 타임딜 |
| **위메프 특가** | 공식 | 크롤링 | 소셜커머스 |
| **티몬 타임커머스** | 공식 | 크롤링 | 소셜커머스 |

#### 수집 데이터 구조
```json
{
  "title": "[쿠팡] 에어팟 프로 2세대 259,000원 (무료배송)",
  "source": "뽐뿌",
  "original_url": "https://...",
  "shop": "쿠팡",
  "product_name": "에어팟 프로 2세대",
  "price": 259000,
  "original_price": 299000,
  "discount_rate": 13,
  "category": "디지털/가전",
  "thumbnail": "https://...",
  "collected_at": "2024-01-15T10:30:00Z",
  "expires_at": "2024-01-15T23:59:59Z"
}
```

### 2. AI 필터링/큐레이션

#### 필터링 기준
```python
class DealFilter:
    # 필수 조건
    min_discount_rate = 10      # 최소 할인율
    min_review_count = 100      # 최소 리뷰 수
    min_deal_score = 7          # 최소 핫딜 점수

    # 제외 조건
    blocked_keywords = ["사전예약", "예약판매", "품절"]
    blocked_sellers = ["불량업체목록"]

    # 우선순위
    priority_categories = ["디지털", "가전", "생활"]
```

#### AI 품질 점수
```
핫딜 점수 = (할인율 × 0.3) + (커뮤니티 반응 × 0.3) + (브랜드 신뢰도 × 0.2) + (역대가 비교 × 0.2)
```

### 3. 콘텐츠 자동 생성

#### 텔레그램/카톡 포맷
```
🔥 오늘의 핫딜

📦 애플 에어팟 프로 2세대
💰 259,000원 (정가 299,000원)
📉 13% 할인 | 역대 최저가 근접
🏪 쿠팡 (로켓배송)

⏰ ~오늘 자정까지

👉 구매하기: [제휴링크]

#에어팟 #쿠팡핫딜 #오늘의특가
```

#### 블로그 포맷
```markdown
# [쿠팡 핫딜] 에어팟 프로 2세대 역대급 특가!

## 상품 정보
- 상품명: 애플 에어팟 프로 2세대
- 판매가: 259,000원 (정가 299,000원)
- 할인율: 13%
- 배송: 로켓배송 (무료)

## 상품 특징
[AI가 생성한 상품 설명]

## 구매 링크
[제휴링크 버튼]

## 가격 비교
| 쇼핑몰 | 가격 | 링크 |
...
```

### 4. 멀티채널 자동 발행

| 채널 | 발행 방식 | 발행 빈도 | 특징 |
|------|----------|----------|------|
| **텔레그램 채널** | Bot API | 실시간 | 즉시 알림 |
| **카카오톡 채널** | 알림톡 API | 1일 1-2회 | 요약 발송 |
| **티스토리** | API | 1일 3-5회 | SEO 축적 |
| **인스타그램** | 자동화 도구 | 1일 2-3회 | 이미지 중심 |
| **틱톡** | 자동화 도구 | 1일 1회 | 영상 생성 |

---

## 기술 스택

### 데이터 수집
| 도구 | 용도 |
|------|------|
| **Playwright** | 동적 페이지 크롤링 |
| **feedparser** | RSS 피드 파싱 |
| **httpx** | API 호출 |
| **Celery** | 분산 작업 처리 |

### AI/ML
| 용도 | 도구 |
|------|------|
| 콘텐츠 생성 | OpenAI GPT, Claude |
| 이미지 생성 | DALL-E, Midjourney |
| 분류/필터링 | 규칙 기반 또는 ML |

### 발행 자동화
| 채널 | 도구/API |
|------|----------|
| 텔레그램 | python-telegram-bot |
| 카카오 | 카카오 알림톡 API |
| 티스토리 | Tistory API |
| 인스타그램 | instagrapi, 또는 n8n |
| 틱톡 | TikTok API (제한적) |

### 워크플로우 자동화
| 도구 | 특징 | 비용 |
|------|------|------|
| **n8n** | 셀프호스팅 가능 | 무료 |
| **Make (Integromat)** | GUI 기반 | 무료/유료 |
| **Zapier** | 간편함 | 유료 |
| **GitHub Actions** | 무료 | 무료 |

---

## 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                     Scheduler (매 10분)                      │
└──────────────────────────┬──────────────────────────────────┘
                           │
        ┌──────────────────┼──────────────────┐
        ▼                  ▼                  ▼
┌───────────────┐  ┌───────────────┐  ┌───────────────┐
│  뽐뿌 크롤러  │  │ 쿠팡 골드박스 │  │  11번가 특가  │
└───────┬───────┘  └───────┬───────┘  └───────┬───────┘
        │                  │                  │
        └──────────────────┼──────────────────┘
                           ▼
                  ┌─────────────────┐
                  │   Deal Queue    │
                  │    (Redis)      │
                  └────────┬────────┘
                           ▼
                  ┌─────────────────┐
                  │  Filter/Score   │
                  │     Engine      │
                  └────────┬────────┘
                           ▼
                  ┌─────────────────┐
                  │ Content Builder │
                  │   (AI 생성)     │
                  └────────┬────────┘
                           ▼
        ┌──────────────────┼──────────────────┐
        ▼                  ▼                  ▼
┌───────────────┐  ┌───────────────┐  ┌───────────────┐
│  텔레그램     │  │   블로그      │  │   인스타      │
│  Publisher    │  │  Publisher    │  │  Publisher    │
└───────────────┘  └───────────────┘  └───────────────┘
```

---

## 수익 모델

### 수익원
1. **제휴 링크 수수료**: 발행 콘텐츠 내 링크
2. **블로그 애드센스**: 티스토리/워드프레스
3. **채널 광고**: 텔레그램 채널 광고 (구독자 많을 시)

### 수익 시뮬레이션
```
텔레그램 채널 구독자 1,000명 기준

일일 발행: 10건
  → 건당 클릭: 50회 (5%)
  → 총 클릭: 500회/일
  → 구매 전환: 10건 (2%)
  → 평균 구매가 40,000원, 수수료 2.5%
  → 일 수익: 10 × 40,000 × 0.025 = 10,000원
  → 월 수익: 약 300,000원

+ 블로그 애드센스: 월 50,000-100,000원 (추가)

구독자 10,000명 시
  → 월 수익: 약 3,000,000원 + 애드센스
```

---

## 개발 단계

### Phase 1: MVP (1주)
- [ ] 뽐뿌 핫딜 RSS 수집
- [ ] 기본 필터링 (할인율, 키워드)
- [ ] 텔레그램 채널 발행
- [ ] 쿠팡 제휴 링크 변환

### Phase 2: 소스 확장 (2주)
- [ ] 쿠팡 골드박스 수집
- [ ] 11번가 쇼킹딜 수집
- [ ] 클리앙/루리웹 추가
- [ ] 중복 제거 로직

### Phase 3: 채널 확장 (2주)
- [ ] 티스토리 자동 발행
- [ ] 카카오 채널 연동
- [ ] 인스타그램 자동화 (선택)

### Phase 4: AI 고도화 (2주)
- [ ] AI 콘텐츠 생성
- [ ] 이미지 자동 생성
- [ ] 품질 점수 시스템

---

## 장점
- **콘텐츠 자동 생산**: 24시간 콘텐츠 생성
- **멀티 채널**: 한 번 수집으로 여러 채널 발행
- **SEO 축적**: 블로그 트래픽 장기 성장
- **확장성**: 소스/채널 추가 용이

## 단점
- **콘텐츠 품질**: AI 생성 콘텐츠 한계
- **경쟁 심화**: 유사 서비스 많음
- **플랫폼 정책**: 각 플랫폼 정책 변경 리스크
- **초기 노출**: 채널 성장에 시간 필요

## 경쟁 서비스
- 뽐뿌, 클리앙 등 커뮤니티
- 각종 핫딜 텔레그램 채널
- **차별점**: 멀티채널 + AI 큐레이션 + 자동화

---

## 법적/정책 고려사항

### 플랫폼 정책
- **인스타그램**: 자동화 도구 사용 시 계정 정지 위험
- **카카오**: 스팸 발송 시 제재
- **티스토리**: 자동 발행 정책 확인 필요

### 광고 표시
- "광고", "협찬", "#ad" 표시 권장
- 공정거래위원회 가이드라인 준수

### 저작권
- 상품 이미지 사용 주의
- 커뮤니티 글 무단 복제 금지

---

## 시작하기 전 체크리스트
- [ ] 텔레그램 채널 생성 및 봇 토큰 발급
- [ ] 쿠팡 파트너스 가입
- [ ] 티스토리 블로그 생성 및 API 키 발급
- [ ] (선택) 링크프라이스 가입
- [ ] 서버 환경 준비
- [ ] 수집 대상 커뮤니티/쇼핑몰 목록 확정

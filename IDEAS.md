# AI 숏폼 자동화 파이프라인

## 컨셉

**랜덤 물건 + 랜덤 생명체** 조합으로 예측 불가능한 재미있는 숏폼 콘텐츠 자동 생성

## 데이터베이스 구조

### 1. 물건 (Objects)
```
물컵, 폰, 간판, 에어컨, 표지판, 신발, 조명, 책,
의자, 냉장고, 자동차, 비행기, 우산, 칼, 방패,
망치, 로켓, 피아노, 드론, 마이크 ...
```

### 2. 생명체 (Creatures)
```
물고기, 사람, 돼지, 유니콘, 드래곤, 고양이,
공룡, 외계인, 로봇, 좀비, 닭, 사자, 고래,
페가수스, 켄타우로스, 피닉스 ...
```

## 콘텐츠 아이디어

### 아이디어 1: "이걸로 뭘 할 수 있을까?"
```
[랜덤 물건] + [랜덤 생명체] = ?

예시:
- 우산 + 펭귄 = "펭귄이 우산으로 할 수 있는 것들"
- 피아노 + 드래곤 = "드래곤의 피아노 연주"
```

### 아이디어 2: "랜덤 군대 배틀"
```
[물건A + 생명체A] vs [물건B + 생명체B]

예시:
- "칼을 든 치킨 군대" vs "방패를 든 고양이 군대"
- "로켓을 탄 펭귄 부대" vs "드론을 조종하는 햄스터 부대"
```

### 아이디어 3: "일상 속 조합"
```
[생명체]가 [물건]을 처음 발견했을 때

예시:
- "외계인이 처음 스마트폰을 발견했을 때"
- "공룡이 에어컨을 처음 켰을 때"
```

## 워크플로우 파이프라인

```
┌─────────────────────────────────────────────────────────────────┐
│                        n8n 워크플로우                            │
└─────────────────────────────────────────────────────────────────┘

[1. 트리거]
     │
     ▼
┌─────────────┐
│  Schedule   │  매일 특정 시간 or 수동 실행
│  Trigger    │
└─────────────┘
     │
     ▼
[2. 데이터 조합]
     │
     ▼
┌─────────────┐
│  Database   │  물건 DB + 생명체 DB에서 랜덤 선택
│  (SQLite/   │
│   Postgres) │  예: { object: "우산", creature: "펭귄" }
└─────────────┘
     │
     ▼
[3. 스토리 생성]
     │
     ▼
┌─────────────┐
│    LLM      │  GPT-4 / Claude API
│   (Text)    │
│             │  입력: "우산 + 펭귄으로 재미있는 숏폼 스토리 만들어줘"
│             │  출력: 스토리 + 자막 텍스트
└─────────────┘
     │
     ▼
[4. 이미지 생성]
     │
     ▼
┌─────────────┐
│   Image     │  DALL-E 3 / Midjourney / Stable Diffusion
│ Generation  │
│             │  프롬프트: "펭귄이 우산을 들고 서핑하는 모습, 3D 렌더링"
└─────────────┘
     │
     ▼
[5. 영상 생성]
     │
     ▼
┌─────────────┐
│   Video     │  Runway Gen-3 / Pika / Kling AI
│ Generation  │
│             │  이미지 → 영상 변환 (5초~15초)
└─────────────┘
     │
     ▼
[6. 후처리]
     │
     ▼
┌─────────────┐
│   FFmpeg    │  자막 추가, 포맷 변환, 음악 추가
│  Processing │
└─────────────┘
     │
     ▼
[7. 업로드]
     │
     ▼
┌─────────────┐
│  TikTok /   │  API 또는 자동화 도구로 업로드
│  YouTube    │
└─────────────┘
     │
     ▼
[8. 알림]
     │
     ▼
┌─────────────┐
│  Telegram   │  "오늘의 콘텐츠 업로드 완료!"
│  Discord    │
└─────────────┘
```

## 필요한 API / 서비스

| 단계 | 서비스 | 용도 | 비용 |
|------|--------|------|------|
| LLM | OpenAI GPT-4 / Claude | 스토리 생성 | 토큰당 과금 |
| 이미지 | DALL-E 3 | 이미지 생성 | $0.04/장 |
| 이미지 | Midjourney | 고품질 이미지 | $10/월~ |
| 영상 | Runway Gen-3 | 이미지→영상 | $15/월~ |
| 영상 | Kling AI | 이미지→영상 | 무료 크레딧 |
| 영상 | Pika Labs | 이미지→영상 | 무료 크레딧 |
| 업로드 | TikTok API | 틱톡 업로드 | 무료 |
| 알림 | Telegram Bot | 완료 알림 | 무료 |

## n8n으로 가능한가?

**YES!** n8n으로 전체 파이프라인 구현 가능

### n8n 노드 매핑

| 단계 | n8n 노드 |
|------|----------|
| 트리거 | Schedule Trigger |
| DB 조회 | SQLite / Postgres / Airtable |
| LLM 호출 | HTTP Request (OpenAI API) |
| 이미지 생성 | HTTP Request (DALL-E API) |
| 영상 생성 | HTTP Request (Runway API) |
| 파일 처리 | Execute Command (FFmpeg) |
| 업로드 | HTTP Request / TikTok Node |
| 알림 | Telegram Node |

## 구현 순서

### Phase 1: 기초 세팅
- [ ] SQLite DB 생성 (물건 + 생명체 테이블)
- [ ] 초기 데이터 100개씩 입력
- [ ] n8n에서 DB 연결 테스트

### Phase 2: 텍스트 생성
- [ ] OpenAI API 연동
- [ ] 프롬프트 템플릿 작성
- [ ] 랜덤 조합 → 스토리 생성 테스트

### Phase 3: 이미지 생성
- [ ] DALL-E 3 API 연동
- [ ] 이미지 프롬프트 최적화
- [ ] 생성된 이미지 저장

### Phase 4: 영상 생성
- [ ] Runway / Kling AI API 연동
- [ ] 이미지 → 영상 변환 테스트
- [ ] FFmpeg로 후처리 (자막, 음악)

### Phase 5: 자동 업로드
- [ ] TikTok API 연동 (또는 대안)
- [ ] YouTube Shorts 업로드
- [ ] 스케줄 설정 (매일 1개)

### Phase 6: 모니터링
- [ ] Telegram 알림 연동
- [ ] 실행 로그 저장
- [ ] 에러 핸들링

## 예상 일일 비용 (1개 콘텐츠 기준)

| 항목 | 비용 |
|------|------|
| GPT-4 (스토리) | ~$0.05 |
| DALL-E 3 (이미지 2장) | ~$0.08 |
| Runway (영상 10초) | ~$0.50 |
| **합계** | **~$0.63/개** |

월 30개 = 약 $19 (2.5만원)
